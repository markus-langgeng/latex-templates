%% PAGELAYOUT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[a4paper,left=4cm,top=3cm,right=3cm,bottom=3cm,]{geometry}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% IMAGES GROUP %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{graphicx}
\graphicspath{{img}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{import}
\usepackage{advdate}

%% PARAGRAPH & LINES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{microtype,titlesec,titling,setspace,indentfirst}

\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand{\thesection}{\arabic{chapter}.\arabic{section}}
\renewcommand{\thefigure}{\arabic{chapter}.\arabic{figure}}
\renewcommand{\thetable}{\arabic{chapter}.\arabic{table}}

% for report class, if you set this to 4 means paragraphs will also be added
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

% \titleformat{<command>}[<shape>]{<format>}{<label>}{<sep>}{<before-code>}[<after-code>]
\titleformat{\chapter}[display]
{\bfseries\normalsize\center} % format
{\MakeUppercase\chaptertitlename \ \thechapter\vspace{.5em}} % label
{-1.2em} % sep
{\MakeUppercase} % before-code
\titlespacing{\chapter}{0pt}{-2em}{2em}

\titleformat{\section}
{\bfseries\normalsize}
{\thesection\hspace{.5em}}
{0em}
{}

\titleformat{\subsection}
{\bfseries\normalsize}
{\thesubsection\hspace{.5em}}
{0em}
{}

\titleformat{\subsubsection}
{\bfseries\normalsize}
{\thesubsubsection\hspace{.5em}}
{0em}
{}

\usepackage[titles]{tocloft}
\makeatletter
\let\oldl@chapter\l@chapter
\renewcommand*\l@chapter[2]{\oldl@chapter{\MakeUppercase{#1}}{#2}}
\makeatother

\renewcommand{\cftchappresnum}{BAB }
\renewcommand{\cftchapnumwidth}{3.8em}
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftdotsep}{0.1}
\renewcommand{\cftchappagefont}{\normalfont}

\usepackage[indent=.5in,skip=]{parskip} % load after tocloft
\onehalfspacing
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% LANGUAGE & FONTS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{polyglossia,fontspec}
\setdefaultlanguage[variant=indonesian]{malay}
% \setdefaultlanguage[variant=american]{english}
\setmainfont{Times New Roman}
\setsansfont{Arial}
\setmonofont{Courier New}

% \usepackage{xeCJK,xpinyin}
% \xpinyinsetup{ratio={.6}, hsep={.6em plus .1em}, pysep={}}
\usepackage{xeCJK}
\setCJKmainfont{Noto Serif CJK SC}
\setCJKsansfont{Noto Sans CJK SC}
\setCJKmonofont{Noto Sans Mono CJK SC}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% BIBLIOGRAPHY %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[backend=biber,style=apa,hyperref=true,]{biblatex}

\addbibresource{ref.bib}
\renewbibmacro{in:}{} % removes in
\DeclareFieldFormat{pages}{#1} % removes pages
% \renewcommand*{\finentrypunct}{\ifboolexpr{togl {bbx:doi} and not test {\iffieldundef{doi}}}{}{\addperiod}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% TABLE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{longtable,array}
\newcounter{rown}
\setcounter{rown}{0}
\newcommand{\row}{\stepcounter{rown}\arabic{rown}.}
\usepackage{etoolbox}
\BeforeBeginEnvironment{tabular}{\setcounter{rown}{0}}
\makeatletter
\newcommand{\header}[1]{ \multicolumn{1}{|c|}{\bfseries #1}\checknextarg }
\newcommand{\checknextarg}{\@ifnextchar\bgroup{\gobblenextarg}{}}
\newcommand{\gobblenextarg}[1]{& \multicolumn{1}{c|}{\bfseries #1}\@ifnextchar\bgroup{\gobblenextarg}{} }
\makeatother
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
\renewcommand{\arraystretch}{1.3}
\setlength{\tabcolsep}{9pt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% HYPERREF %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{hyperref}
\hypersetup{colorlinks=false,allcolors=blue,linktoc=all}
\urlstyle{same}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
